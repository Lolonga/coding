<html>
  <head>
    <style>
      button {
        width: 100px;
        height: 100px;
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <div style='border: 1px solid black; width: 400px; height: 50px; text-align: right'>
      <p id="outpt">0</p>
    </div>
    <button onclick = 'btnClicked("clear")'    >Clr</button>
    <button onclick = 'btnClicked("plusminus")'>+/-</button>
    <button onclick = 'btnClicked("%")'        >%</button>
    <button onclick = 'btnClicked("div")'      >/</button><br>
    <button onclick='btnClicked(7)'            >7</button>
    <button onclick='btnClicked(8)'>8</button>
    <button onclick='btnClicked(9)'>9</button>
    <button onclick='btnClicked("x")'>x</button><br>
    <button onclick='btnClicked(4)'>4</button>
    <button onclick='btnClicked(5)'>5</button>
    <button onclick='btnClicked(6)'>6</button>
    <button onclick='btnClicked("-")'>-</button><br>
    <button onclick='btnClicked(1)'>1</button>
    <button onclick='btnClicked(2)'>2</button>
    <button onclick='btnClicked(3)'>3</button>
    <button onclick='btnClicked("+")'>+</button><br>
    <button onclick='btnClicked(".")'>.</button>
    <button onclick='btnClicked(0)'>0</button>
    <button onclick='btnClicked("=")'>=</button><br>

    <script>
      var state = "firstNum";
      var firstNum = 0;
      var secondNum = 0;
      var decimal = 'left';
      var op = "None";
      function btnClicked(n) {
        if isInteger(n) {
          if (state == 'firstNum') {
            firstNum = firstNum * 10 + n;
            if (decimal == 'right') {
              firstNum = firstNum/10;
            }
            displayNumber(firstNum);
          }
          if (state == 'secondNum') {
            secondNum = secondNum * 10 + n;
            if (decimal == 'right') {
              secondNum = secondNum/10;
            }
            displayNumber(secondNum);
          }
        }
        if (n == '.') {
          decimal = 'right';
        }
        
        if (n in ['+','-','x','div']) {
          op = n;
          state = "secondNum";
        }

        if (n == 'plusminus') {
          if (state == "firstNum") {
            firstNum = -firstNum;
            displayNumber(firstNum);
          }
          if (state == "secondNum") {
            secondNum = -secondNum;
            displayNumber(secondNum);
          }
        }

        if (n == '=') {
          if (op == '+') {
            firstNum = firstNum + secondNum;
            secondNum = 0;
            displayNumber(firstNum);
          }
          if (op == '-') {
            firstNum = firstNum - secondNum;
            secondNum = 0;
            displayNumber(firstNum);
          }
          if (op == 'x') {
            firstNum = firstNum * secondNum;
            secondNum = 0;
            displayNumber(firstNum);
          }

          if (op == 'div') {
            firstNum = firstNum / secondNum;
            secondNum = 0;
            displayNumber(firstNum);
          }
        }
        if (n == 'clear') {
          firstNum = 0;
          secondNum = 0;
          op = 'None';
          decimal = 'left';
          state = 'firstNum';
        }   
      }

      function displayNumber(n) {
        document.getElementById('outpt').innerHTML = str(n);
      }
    </script>
    
  </body>
</html>
